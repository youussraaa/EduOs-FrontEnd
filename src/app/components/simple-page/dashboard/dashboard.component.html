<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">

<div class="dashboard-container" *ngIf="canViewDashboard == true">
  <div class="dashboard-grid">
    <!-- Main Overview Card -->
    <div class="main-card">
      <div class="card-header">
        <h2 class="card-title">Vue d'ensemble</h2>
        <select class="period-selector">
          <option>Mensuel</option>
          <option>Hebdomadaire</option>
          <option>Annuel</option>
        </select>
      </div>
      
      <div class="chart-container">
        <div class="wave-line"></div>
        <div class="data-point"></div>
        <div class="data-label">
          {{ Statistique?.NbCandidatures || 0 }}<br>
          <small>Candidatures</small>
        </div>
      </div>
      
      <div class="month-labels">
        <span class="month-label">Jan</span>
        <span class="month-label">Fév</span>
        <span class="month-label">Mar</span>
        <span class="month-label active">Avr</span>
        <span class="month-label">Mai</span>
        <span class="month-label">Jun</span>
        <span class="month-label">Jul</span>
        <span class="month-label">Aoû</span>
        <span class="month-label">Sep</span>
        <span class="month-label">Oct</span>
      </div>
      
      <div class="stats-grid">
        <div class="stat-item">
          <div class="stat-label">Total Candidatures</div>
          <h3 class="stat-value">{{ Statistique?.NbCandidatures || 0 }}</h3>
        </div>
        <div class="stat-item">
          <div class="stat-label">Total Élèves</div>
          <h3 class="stat-value">{{ Statistique?.NbEtudiants || 0 }}</h3>
        </div>
        <div class="stat-item">
          <div class="stat-label">Objectif</div>
          <h3 class="stat-value">{{ (Statistique?.NbCandidatures || 0) + 50 }}</h3>
        </div>
      </div>
    </div>

<div class="dashboard-cards">
  <!-- Action Card -->
  
    <a routerLink="/public/candidature" class="action-card" target="_blank">
      <div class="action-card-content">
        <div class="action-icon">
          <i class="fa fa-plus"></i>
        </div>
        <div class="action-title">Nouvelle Candidature</div>
        <div class="action-subtitle">Formulaire des candidats</div>
      </div>
    </a>
  

  <!-- Payments Card -->
  <div class="compact-card-p payments" [routerLink]="'/paiements'">
    <div class="compact-content">
      <div class="compact-icon">
        <i class="fa fa-money"></i>
      </div>
      <div class="compact-title">Total Paiements</div>
      <h3 class="compact-value">
        {{ (Statistique?.TotalPaiements | number : "1.0-0") || 0 }} 
        <span class="stat-unit">FCFA</span>
      </h3>
    </div>
  </div>
</div>
</div>
    <!-- Side Cards -->
    <div class="fox">

    
        <div class="compact-card students" [routerLink]="'/liste-etudiants'">
        <div class="compact-content">
          <div class="compact-icon">
            <i class="fa fa-users"></i>
          </div>
          <div class="compact-title">Mes Élèves</div>
          <h3 class="compact-value">{{ Statistique?.NbEtudiants || 0 }}</h3>
        </div>
      </div>
      
      <div class="compact-card teachers" [routerLink]="'/enseignants'">
        <div class="compact-content">
          <div class="compact-icon">
            <i class="fa fa-briefcase"></i>
          </div>
          <div class="compact-title">Enseignants</div>
          <h3 class="compact-value">{{ Statistique?.NbEnseignants || 0 }}</h3>
        </div>
      </div>
    </div>
  
</div>

<div class="dashboard-container" *ngIf="canViewDashboard == false">
  <div class="no-access">
    <img width="200" height="150" src="assets/images/CantShow.png" alt="Accès refusé" />
    <h4>Vous n'avez pas le droit pour consulter le dashboard</h4>
  </div>
</div>